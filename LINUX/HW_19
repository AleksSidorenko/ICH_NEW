#!/bin/bash

# Создайте на сервере linux.itcareerhub.de в своей папке /opt 2 дополнительных директории. 
# В первой директории найдите способ (например написав скрипт или выполнив команду в терминале) 
# создать 100 файлов со случайными названиями с использованием $RANDOM. Например файлы  15358 9396 240.
# Напишите скрипт, который будет переносить в другую директорию файлы, 
# если число, стоящее в названии четное - то перенести файлы в другую директорию, если нет - оставить в текущей. 
# Пришлите команды или скрипты, с помощью которых Вы выполнили задание.

# Создание двух директорий.

# Запрашиваем исходную директорию
echo "Enter the path to the SOURCE directory:"
read source_directory

# Запрашиваем целевую директорию
echo "Enter the path to the TARGET directory:"
read target_directory

# Выводим введенные пути для проверки
echo "SOURCE directory: $source_directory"
echo "TARGET directory: $target_directory"


# Указываем директории
# DIR1="dir1"  # Первая директория
# DIR2="dir2"  # Вторая директория

# Проверяем, существуют ли директории
if [[ ! -d "$DIR1" || ! -d "$DIR2" ]]; then
    echo "Одна или обе директории не существуют. Создаём..."
    mkdir -p "$DIR1" "$DIR2"
fi

# Создаём 100 файлов с случайными именами
for i in {1..100}; do
    filename=$RANDOM  # Генерируем случайное имя
    touch "$filename" # Создаём файл
done

echo "Создано 100 файлов со случайными именами."

# Перебираем файлы в первой директории
for file in "$DIR1"/*; do
    filename=$(basename "$file")  # Извлекаем имя файла
    if [[ "$filename" =~ ^[0-9]+$ ]]; then  # Проверяем, состоит ли имя только из цифр
        if (( filename % 2 == 0 )); then  # Проверяем, чётное ли число
            mv "$file" "$DIR2"/  # Перемещаем в dir2
            echo "Файл $filename перемещён в $DIR2"
        fi
    fi
done

echo "Готово!"

# for i in {1..100}; do
#    rand_name=$(cat /dev/urandom | tr -dc 'a-zA-Z0-9' | fold -w 10 | head -n 1)
#    touch "$rand_name"
# done

# mkdir even_files odd_files

# for file in *; do
#    num=$(echo "$file" | grep -o '[0-9]*')

#    if [ $((num % 2)) -eq 0 ]; then
#        mv "$file" even_files/
#    else
#        mv "$file" odd_files/
#    fi
# done









