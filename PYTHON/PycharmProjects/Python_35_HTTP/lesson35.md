## HTTP

**HTTP (HyperText Transfer Protocol)** — это протокол, по которому браузер и сервер обмениваются данными.  
Он определяет **как отправлять запросы** и **как на них отвечать**.

### Как работает HTTP

1. **Клиент (браузер)** отправляет **HTTP-запрос** на сервер.
2. Сервер **обрабатывает запрос** и отправляет обратно **HTTP-ответ**.
3. Браузер **отображает полученные данные** (например, HTML-страницу).

Запрос и ответ состоят из **заголовков** (метаданных) и, в случае необходимости, 
**тела** (например, контента страницы).

### Структура HTTP-запроса

Структура HTTP-запроса:

1. **Строка запроса (Request Line)**  
   - **Метод** (например, GET, POST)
   - **URL** (путь к ресурсу)
   - **HTTP-версия** (например, HTTP/1.1)

   Пример:
   ```
   GET /index.html HTTP/1.1
   ```

2. **Заголовки (Headers)**  
   Параметры запроса, описывающие информацию о клиенте и запросе.

   Пример:
   ```
   Host: example.com
   User-Agent: Mozilla/5.0
   Accept: text/html
   ```

3. **Тело запроса (Body)** (опционально)  
   Содержит данные, передаваемые с запросом, например, при использовании метода POST.

   Пример:
   ```
   name=John&age=25
   ```

**Пример полного HTTP-запроса:**
```
GET /index.html HTTP/1.1
Host: example.com
User-Agent: Mozilla/5.0
Accept: text/html
```

- **GET** — метод запроса
- **/index.html** — путь на сервере
- **Host** — имя сайта
- Остальное — заголовки


### Структура HTTP-ответа

Структура **HTTP-ответа**:

1. **Строка состояния (Status Line)**  
   Содержит:
   - **HTTP-версия** (например, HTTP/1.1)
   - **Код состояния** (например, 200)
   - **Фраза состояния** (например, OK)

   Пример:
   ```
   HTTP/1.1 200 OK
   ```

2. **Заголовки (Headers)**  
   Заголовки содержат метаданные ответа, такие как тип содержимого, длина контента, дата и т.д.

   Пример:
   ```
   Content-Type: text/html
   Content-Length: 1256
   Date: Sat, 06 Apr 2025 14:00:00 GMT
   ```

3. **Тело ответа (Body)** (опционально)  
   Содержит данные, которые сервер отправляет клиенту, например, HTML-страницу, JSON-ответ или изображение.

   Пример:
   ```
   <html>
     <head><title>Welcome</title></head>
     <body><h1>Hello, world!</h1></body>
   </html>
   ```

**Пример полного HTTP-ответа:**

```
HTTP/1.1 200 OK
Content-Type: text/html
Content-Length: 1256
Date: Sat, 06 Apr 2025 14:00:00 GMT

<html>
  <head><title>Welcome</title></head>
  <body><h1>Hello, world!</h1></body>
</html>
```


### Основные методы HTTP

| Метод  | Назначение                                |
|--------|-------------------------------------------|
| GET    | Получить данные (например, HTML-страницу) |
| POST   | Отправить данные на сервер (формы, API)   |
| PUT    | Заменить данные                           |
| DELETE | Удалить ресурс                            |
| PATCH  | Частично обновить ресурс                  |
| HEAD   | Получить только заголовки (без тела)      |


### Статусы ответа (status codes)

Основные **коды состояния HTTP** (статусы ответа):

### 1. **Информационные (1xx)**  
Указывают, что запрос получен и продолжается обработка.
- **100 Continue** — Запрос принят, клиент может продолжать отправку данных.
- **101 Switching Protocols** — Сервер согласен переключиться на другой протокол.

### 2. **Успешные (2xx)**  
Запрос успешно обработан.
- **200 OK** — Запрос выполнен успешно. Ресурс возвращён в теле ответа.
- **201 Created** — Запрос выполнен успешно, и ресурс был создан (например, при POST-запросе).
- **202 Accepted** — Запрос принят для обработки, но ещё не завершён.
- **204 No Content** — Запрос выполнен, но в ответе нет содержимого (например, при успешном удалении).

### 3. **Перенаправления (3xx)**  
Указывают, что клиент должен выполнить дополнительные действия для завершения запроса.
- **301 Moved Permanently** — Ресурс перемещён на другой URL, используйте новый адрес.
- **302 Found** — Ресурс временно доступен по другому URL.
- **304 Not Modified** — Ресурс не изменился с момента последнего запроса, можно использовать кэш.

### 4. **Ошибки клиента (4xx)**  
Ошибки, которые произошли из-за некорректного запроса клиента.
- **400 Bad Request** — Неверный запрос, сервер не может его обработать.
- **401 Unauthorized** — Необходима авторизация для доступа к ресурсу.
- **403 Forbidden** — Доступ запрещён, клиент не имеет прав на доступ к ресурсу.
- **404 Not Found** — Ресурс не найден по указанному URL.

### 5. **Ошибки сервера (5xx)**  
Ошибки, произошедшие на сервере при обработке запроса.
- **500 Internal Server Error** — Внутренняя ошибка сервера.
- **501 Not Implemented** — Сервер не поддерживает метод, указанный в запросе.
- **502 Bad Gateway** — Сервер, действующий как шлюз, получил недействительный ответ от вышестоящего сервера.
- **503 Service Unavailable** — Сервис временно недоступен (например, сервер перегружен).
- **504 Gateway Timeout** — Тайм-аут при получении ответа от вышестоящего сервера.


### Пример использования:

- **200 OK** — запрос успешно выполнен.
- **404 Not Found** — запрашиваемый ресурс не найден.
- **500 Internal Server Error** — ошибка на сервере при обработке запроса.

